{"version":3,"sources":["webpack:///./src/components/TaggedList/index.jsx","webpack:///./src/templates/TaggedList.jsx"],"names":["TaggedList","_ref","data","location","page","getPage","tag","flow","get","split","allPosts","getPosts","filter","includes","postCount","size","posts","slice","CONTENT_PER_PAGE","react_default","a","createElement","react","PostsWrapper","Helmet_default","toUpper","name","content","isEmpty","map","post","node","path","frontmatter","images","tags","Card","Object","assign","key","Pagination","prefix","propTypes","PropTypes","shape","isRequired","__webpack_require__","d","__webpack_exports__","pageQuery","TaggedListTemplate","props","layout","components_TaggedList"],"mappings":"wOAWMA,EAAa,SAAAC,GAAwB,IAArBC,EAAqBD,EAArBC,KAAMC,EAAeF,EAAfE,SACpBC,EAAOC,YAAQ,EAARA,CAAWF,GAClBG,EAAMC,eACVC,cAAI,YACJC,gBAAM,KACND,cAAI,KAHMD,CAIVJ,GACIO,EAAWH,eACfI,IACAC,iBACEL,eACEC,cAAI,yBACJK,mBAASP,KALEC,CAQfL,GACIY,EAAYC,eAAKL,GACjBM,EAAQC,iBACXb,EAAO,GAAKc,mBACbd,EAAOc,mBAFKD,CAGZP,GAEF,OACES,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,KACED,EAAAC,EAAAC,cAAA,yBACeI,kBAAQnB,IAEvBa,EAAAC,EAAAC,cAAA,QAAMK,KAAK,WAAWC,QAAO,YAAcF,kBAAQnB,MAEpDsB,kBAAQZ,GACPG,EAAAC,EAAAC,cAAA,wBAGE,KACHQ,cAAI,SAACC,GACJ,GAAuB,UAAnBA,EAAKC,KAAKC,KAAkB,CAC9B,IAAMC,EAAczB,cAAI,mBAAJA,CAAwBsB,GACpCI,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,KAAMH,EAASC,EAATD,KAEtB,OACEb,EAAAC,EAAAC,cAACe,EAAA,EAADC,OAAAC,OAAA,CAAMC,IAAKP,EAAMA,KAAMA,EAAMG,KAAMA,EAAMD,OAAQA,GAAYD,IAIjE,OAAO,MAVRJ,CAWEb,IAELG,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CACEC,OAAM,SAAWnC,EAAX,IACNQ,UAAWA,EACXX,SAAUA,MAMlBH,EAAW0C,UAAY,CACrBxC,KAAMyC,IAAUC,MAAM,IAAIC,WAC1B1C,SAAUwC,IAAUC,MAAM,IAAIC,YAGjB7C,QC1Ef8C,EAAAC,EAAAC,EAAA,8BAAAC,IAWeC,UANY,SAAAC,GAAK,OAC9BhC,EAAAC,EAAAC,cAAC+B,EAAA,EAAWD,EACVhC,EAAAC,EAAAC,cAACgC,EAAeF,KAFpB,IAQaF,EAAS","file":"component---src-templates-tagged-list-jsx-f9a5df727e77acbfa911.js","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport { flow, isEmpty, split, slice, filter, map, includes, get, size, toUpper } from 'lodash/fp';\nimport PostsWrapper from 'components/Common/PostsWrapper';\nimport Card from 'components/Common/Card';\nimport Pagination from 'components/Common/Pagination';\nimport getPosts from 'utils/getPosts';\nimport getPage from 'utils/getPage';\nimport { CONTENT_PER_PAGE } from 'constants';\n\nconst TaggedList = ({ data, location }) => {\n  const page = getPage(3)(location);\n  const tag = flow(\n    get('pathname'),\n    split('/'),\n    get('2')\n  )(location);\n  const allPosts = flow(\n    getPosts,\n    filter(\n      flow(\n        get('node.frontmatter.tags'),\n        includes(tag)\n      )\n    )\n  )(data);\n  const postCount = size(allPosts);\n  const posts = slice(\n    (page - 1) * CONTENT_PER_PAGE,\n    page * CONTENT_PER_PAGE\n  )(allPosts);\n\n  return (\n    <Fragment>\n      <PostsWrapper>\n        <Helmet>\n          <title>\n            {`WONISM | ${toUpper(tag)}`}\n          </title>\n          <meta name=\"og:title\" content={`WONISM | ${toUpper(tag)}`} />\n        </Helmet>\n        {isEmpty(posts) ? (\n          <div>\n            No posts.\n          </div>\n        ) : null}\n        {map((post) => {\n          if (post.node.path !== '/404/') {\n            const frontmatter = get('node.frontmatter')(post);\n            const { images, tags, path } = frontmatter;\n\n            return (\n              <Card key={path} path={path} tags={tags} images={images} {...frontmatter} />\n            );\n          }\n\n          return null;\n        })(posts)}\n      </PostsWrapper>\n      <Pagination\n        prefix={`/tags/${tag}/`}\n        postCount={postCount}\n        location={location}\n      />\n    </Fragment>\n  );\n};\n\nTaggedList.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n  location: PropTypes.shape({}).isRequired,\n};\n\nexport default TaggedList;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from 'components/layout';\nimport TaggedList from 'components/TaggedList';\n\nconst TaggedListTemplate = props => (\n  <Layout {...props}>\n    <TaggedList {...props} />\n  </Layout>\n);\n\nexport default TaggedListTemplate;\n\nexport const pageQuery = graphql`\n  query TaggedListQuery {\n    allMarkdownRemark (\n      filter: { frontmatter: { hide: { ne: true } } }\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            type\n            title\n            images\n            path\n            tags\n            date\n            summary\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}